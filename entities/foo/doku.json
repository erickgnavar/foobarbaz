{"openapi":"3.0.2","info":{"title":"Doku","description":"Backend to generate PDFs filled with custom data by using pre-configured templates","version":"1.0.0"},"paths":{"/documents":{"get":{"tags":["documents"],"summary":"List Documents","operationId":"list_documents_documents_get","parameters":[{"required":false,"schema":{"title":"Query","type":"string"},"name":"query","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["documents"],"summary":"Create Document","operationId":"create_document_documents_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DataDocumentWithInitialVersion"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/documents/{document_id}":{"get":{"tags":["documents"],"summary":"Get Document","operationId":"get_document_documents__document_id__get","parameters":[{"required":true,"schema":{"title":"Document Id","type":"integer"},"name":"document_id","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["documents"],"summary":"Update Document","operationId":"update_document_documents__document_id__put","parameters":[{"required":true,"schema":{"title":"Document Id","type":"integer"},"name":"document_id","in":"path"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DataDocument"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/documents/{document_id}/versions":{"get":{"tags":["documents"],"summary":"List Versions For Document","operationId":"list_versions_for_document_documents__document_id__versions_get","parameters":[{"required":true,"schema":{"title":"Document Id","type":"integer"},"name":"document_id","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["documents"],"summary":"Create Version For Document","operationId":"create_version_for_document_documents__document_id__versions_post","parameters":[{"required":true,"schema":{"title":"Document Id","type":"integer"},"name":"document_id","in":"path"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DataDocumentVersion"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/versions":{"get":{"tags":["versions"],"summary":"List Versions","operationId":"list_versions_versions_get","parameters":[{"required":false,"schema":{"title":"Codes","type":"array","items":{"type":"string","format":"uuid"},"default":[]},"name":"codes","in":"query"},{"required":false,"schema":{"title":"Active","type":"boolean"},"name":"active","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/versions/{version_id}":{"get":{"tags":["versions"],"summary":"Get Document Version","operationId":"get_document_version_versions__version_id__get","parameters":[{"required":true,"schema":{"title":"Version Id","type":"integer"},"name":"version_id","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["versions"],"summary":"Update Document Version","operationId":"update_document_version_versions__version_id__put","parameters":[{"required":true,"schema":{"title":"Version Id","type":"integer"},"name":"version_id","in":"path"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DataDocumentVersion"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/versions/{version_id}/template":{"post":{"tags":["versions"],"summary":"Upload Document  Version File","operationId":"upload_document__version_file_versions__version_id__template_post","parameters":[{"required":true,"schema":{"title":"Version Id","type":"integer"},"name":"version_id","in":"path"}],"requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_upload_document__version_file_versions__version_id__template_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/versions/render":{"post":{"tags":["versions"],"summary":"Render Document","operationId":"render_document_versions_render_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RenderDocumentVersion"}}},"required":true},"responses":{"200":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/metrics":{"get":{"summary":"Metrics","description":"Endpoint that serves Prometheus metrics.","operationId":"metrics_metrics_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/":{"get":{"summary":"Root","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"Body_upload_document__version_file_versions__version_id__template_post":{"title":"Body_upload_document__version_file_versions__version_id__template_post","required":["template"],"type":"object","properties":{"template":{"title":"Template","type":"string","format":"binary"}}},"DataDocument":{"title":"DataDocument","required":["name"],"type":"object","properties":{"name":{"title":"Name","type":"string"}}},"DataDocumentVersion":{"title":"DataDocumentVersion","required":["name"],"type":"object","properties":{"active":{"title":"Active","type":"boolean","default":false},"name":{"title":"Name","type":"string"},"placements":{"title":"Placements","type":"array","items":{"$ref":"#/components/schemas/DataPlacement"},"default":[]}}},"DataDocumentWithInitialVersion":{"title":"DataDocumentWithInitialVersion","required":["name","version_name"],"type":"object","properties":{"name":{"title":"Name","type":"string"},"placements":{"title":"Placements","type":"array","items":{"$ref":"#/components/schemas/DataPlacement"},"default":[]},"version_name":{"title":"Version Name","type":"string"}}},"DataPlacement":{"title":"DataPlacement","required":["name","page","x","y","type"],"type":"object","properties":{"name":{"title":"Name","type":"string"},"page":{"title":"Page","type":"integer"},"x":{"title":"X","type":"number"},"y":{"title":"Y","type":"number"},"font_properties":{"title":"Font Properties","type":"object","default":{}},"type":{"title":"Type","type":"string"},"table_properties":{"title":"Table Properties","type":"object","default":{}}}},"HTTPValidationError":{"title":"HTTPValidationError","type":"object","properties":{"detail":{"title":"Detail","type":"array","items":{"$ref":"#/components/schemas/ValidationError"}}}},"RenderDocumentVersion":{"title":"RenderDocumentVersion","required":["code","data"],"type":"object","properties":{"code":{"title":"Code","type":"string","format":"uuid4"},"data":{"title":"Data","type":"object"}}},"ValidationError":{"title":"ValidationError","required":["loc","msg","type"],"type":"object","properties":{"loc":{"title":"Location","type":"array","items":{"type":"string"}},"msg":{"title":"Message","type":"string"},"type":{"title":"Error Type","type":"string"}}}}},"tags":[{"name":"documents","description":"Operations with documents. The **create version for a document** and **list versions for document** logic are also here."},{"name":"versions","description":"Operations with versions of documents. The **render file** logic is also here."}]}
